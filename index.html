<!DOCTYPE html>

<html lang="id">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>iPhone Quote Generator - BY ZIPERR</title>

  <link rel="shortcut icon" href="https://berrymodapk.edgeone.app/favicon.ico" type="image/x-icon"/>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>



  <style>

    :root {

      --primary: #8B5CF6;
      --primary-light: #A78BFA;
      --bg: #0f0b1f;
      --text: #e6e1ff;
      --card-bg: rgba(24, 18, 45, 0.88);
      --glass-border: rgba(139, 92, 246, 0.35);
      --input-bg: rgba(46, 36, 80, 0.55);
      --radius: 20px;
    }



    * {

      margin: 0;

      padding: 0;

      box-sizing: border-box;

    }



    body {

      background-color: var(--bg);

      font-family: 'Inter', sans-serif;

      color: var(--text);

      min-height: 100vh;

      background-image:

        radial-gradient(circle at 10% 20%, rgba(100, 124, 247, 0.06) 0%, transparent 50%),

        radial-gradient(circle at 90% 80%, rgba(123, 140, 255, 0.04) 0%, transparent 50%);

      background-attachment: fixed;

      padding-top: 70px;

      padding-bottom: 40px;

      overflow-x: hidden;

    }



    .headbar {

      position: fixed;

      top: 0;

      left: 0;

      width: 100%;

      height: 60px;

      padding: 0 20px;

      display: flex;

      justify-content: space-between;

      align-items: center;

      z-index: 1000;

      backdrop-filter: blur(16px);

      -webkit-backdrop-filter: blur(16px);

      background: rgba(15, 18, 35, 0.7);

      border-bottom: 1px solid var(--glass-border);

      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);

    }



    .headbar h1 {

      font-size: 1.35rem;

      font-weight: 800;

      color: #ffffff;

      letter-spacing: -0.5px;

      display: flex;

      align-items: center;

      gap: 10px;

    }



    .headbar h1 i {

      font-size: 1.2rem;

      color: #a0b3ff;

    }



    .headbar a,

    .headbar button {

      color: #ffffff !important;

      text-decoration: none;

      background: none;

      border: none;

      cursor: pointer;

      display: flex;

      align-items: center;

      justify-content: center;

      width: 40px;

      height: 40px;

      border-radius: 10px;

      transition: all 0.25s ease;

    }



    .headbar a:hover,

    .headbar button:hover {

      background: rgba(255, 255, 255, 0.1);

    }



    .toggle-icon {

      display: block;

      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);

    }



    .toggle-icon.rotated {

      transform: rotate(180deg);

    }



    .breadcrumb {

      padding: 12px 0 20px;

      display: flex;

      align-items: center;

      gap: 6px;

      font-size: 0.95rem;

      max-width: 800px;

      width: 100%;

      margin: 0 auto;

      padding-left: 16px;

      padding-right: 16px;

    }



    .breadcrumb a {

      color: #ffffff;

      text-decoration: none;

      font-weight: 500;

      transition: opacity 0.2s ease;

    }



    .breadcrumb a:hover {

      opacity: 0.85;

    }



    .breadcrumb .separator {

      color: var(--primary);

      font-weight: 400;

    }



    .breadcrumb .active {

      color: var(--primary);

      font-weight: 600;

    }



    main {

      max-width: 800px;

      width: 100%;

      margin: 0 auto;

      padding: 0 16px;

    }



    .card {

      background: var(--card-bg);

      backdrop-filter: blur(20px);

      border-radius: var(--radius);

      padding: 2.4rem;

      margin-bottom: 2rem;

      border: 1px solid var(--glass-border);

      box-shadow: 

        0 8px 32px rgba(0, 0, 0, 0.35),

        inset 0 0 12px rgba(100, 124, 247, 0.08);

      transition: transform 0.3s ease, box-shadow 0.3s ease;

    }



    .card:hover {

      transform: translateY(-2px);

      box-shadow: 

        0 12px 40px rgba(0, 0, 0, 0.45),

        inset 0 0 15px rgba(100, 124, 247, 0.12);

    }



    /* === WATERMARK LOGO %3 HORIZONTAL LEFT ALIGN === */

    .watermark-header {

      display: flex;

      align-items: center;

      gap: 16px;

      margin-bottom: 24px;

      padding-bottom: 16px;

      border-bottom: 1px solid var(--glass-border);

    }



    .watermark-logo {

      width: 60px;

      height: 60px;

      border-radius: 14px;

      object-fit: cover;

      border: 1px solid var(--glass-border);

      box-shadow: 0 4px 14px rgba(0, 0, 0, 0.3);

    }



    .watermark-text .watermark-name {

      font-weight: 800;

      font-size: 1.2rem;

      color: white;

      display: block;

    }



    .watermark-text .watermark-username {

      font-weight: 600;

      font-size: 0.95rem;

      color: var(--primary-light);

      display: block;

    }



    /* === INPUT UTAMA === */

    .main-input-group {

      margin-bottom: 22px;

    }



    .main-input-group label {

      display: block;

      margin-bottom: 10px;

      font-weight: 700;

      font-size: 1.05rem;

      color: #e0e4f0;

    }



    .main-input-group input {

      width: 100%;

      padding: 14px 18px;

      background: var(--input-bg);

      border: 1px solid transparent;

      border-radius: 16px;

      color: white;

      font-family: 'Inter', sans-serif;

      font-size: 1.05rem;

      transition: all 0.3s ease;

      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);

    }



    .main-input-group input:focus {

      outline: none;

      border-color: var(--primary);

      box-shadow: 0 0 0 3px rgba(100, 124, 247, 0.3), 0 0 12px rgba(100, 124, 247, 0.3);

      background: rgba(35, 40, 65, 0.8);

    }



    .model-selector {

      display: flex;

      gap: 12px;

      margin-bottom: 20px;

      justify-content: center;

    }



    .model-chip {

      padding: 9px 18px;

      background: var(--input-bg);

      border: 1px solid transparent;

      border-radius: 22px;

      color: #a5aac5;

      font-weight: 600;

      font-size: 0.94rem;

      cursor: pointer;

      transition: all 0.25s ease;

      display: inline-flex;

      align-items: center;

      gap: 7px;

    }



    .model-chip:hover {

      background: rgba(40, 45, 70, 0.7);

    }



    .model-chip.active {

      border-color: var(--primary);

      color: white;

      background: rgba(100, 124, 247, 0.12);

      box-shadow: 0 0 12px rgba(100, 124, 247, 0.25);

    }



    /* === TOGGLE ADVANCED BUTTON === */

    .toggle-advanced-btn {

      width: 100%;

      padding: 12px;

      background: rgba(30, 35, 60, 0.6);

      color: var(--primary-light);

      font-weight: 600;

      font-family: 'Inter', sans-serif;

      border: 1px solid var(--glass-border);

      border-radius: 14px;

      cursor: pointer;

      margin-bottom: 24px;

      transition: all 0.25s ease;

      display: flex;

      align-items: center;

      justify-content: center;

      gap: 10px;

    }



    .toggle-advanced-btn:hover {

      background: rgba(40, 45, 70, 0.8);

      border-color: var(--primary);

    }



    .dynamic-fields {

      display: none;

      animation: fadeInField 0.35s ease forwards;

    }



    .dynamic-fields.active {

      display: block;

    }



    @keyframes fadeInField {

      from {

        opacity: 0;

        transform: translateY(10px);

      }

      to {

        opacity: 1;

        transform: translateY(0);

      }

    }



    .advanced-fields-section {

      opacity: 0;

      visibility: hidden;

      height: 0;

      overflow: hidden;

      transition: opacity 0.4s ease, visibility 0.4s, height 0.01s 0.4s;

    }



    .advanced-fields-section.active {

      opacity: 1;

      visibility: visible;

      height: auto;

      transition: opacity 0.4s ease, visibility 0.4s, height 0.01s;

      margin-bottom: 26px;

    }



    .form-grid {

      display: grid;

      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));

      gap: 20px;

    }



    .form-group {

      position: relative;

    }



    .form-group label {

      display: flex;

      align-items: center;

      gap: 8px;

      margin-bottom: 8px;

      font-weight: 600;

      font-size: 0.92rem;

      color: #c0c4e0;

    }



    .form-group label i {

      color: var(--primary-light);

      font-size: 1rem;

    }



    .form-group input:not([type="color"]), 

    .form-group select {

      width: 100%;

      padding: 12px 14px;

      background: var(--input-bg);

      border: 1px solid transparent;

      border-radius: 14px;

      color: var(--text);

      font-family: 'Inter', sans-serif;

      font-size: 0.98rem;

      transition: all 0.3s ease;

    }



    .form-group input:focus, 

    .form-group select:focus {

      outline: none;

      border-color: var(--primary);

      box-shadow: 0 0 0 3px rgba(100, 124, 247, 0.25), 0 0 10px rgba(100, 124, 247, 0.25);

      background: rgba(35, 40, 65, 0.7);

    }



    .color-input-group {

      display: flex;

      gap: 10px;

    }



    .color-preview {

      width: 40px;

      height: 40px;

      border-radius: 10px;

      border: 1px solid var(--glass-border);

      cursor: pointer;

      flex-shrink: 0;

      transition: transform 0.2s ease;

    }



    .color-preview:hover {

      transform: scale(1.05);

    }



    .color-hex-input {

      flex: 1;

      padding: 12px 14px;

      background: var(--input-bg);

      border: 1px solid transparent;

      border-radius: 14px;

      color: var(--text);

      font-family: 'Inter', sans-serif;

      font-size: 0.98rem;

      text-transform: uppercase;

    }



    .color-hex-input:focus {

      outline: none;

      border-color: var(--primary);

      box-shadow: 0 0 0 3px rgba(100, 124, 247, 0.25), 0 0 10px rgba(100, 124, 247, 0.25);

      background: rgba(35, 40, 65, 0.7);

    }



    .chip-selector {

      display: flex;

      flex-wrap: wrap;

      gap: 10px;

      margin-top: 6px;

    }

    .chip {

      padding: 8px 14px;

      background: var(--input-bg);

      border: 1px solid transparent;

      border-radius: 14px;

      color: #b0b5cc;

      font-size: 0.92rem;

      font-weight: 600;

      cursor: pointer;

      transition: all 0.25s ease;

    }

    .chip:hover {

      background: rgba(40, 45, 70, 0.7);

    }

    .chip.active {

      background: rgba(100, 124, 247, 0.12);

      border-color: var(--primary);

      color: white;

      box-shadow: 0 0 12px rgba(100, 124, 247, 0.25);

    }



    /* === COLOR WHEEL MODAL === */

    .modal {

      display: none;

      position: fixed;

      top: 0;

      left: 0;

      width: 100%;

      height: 100%;

      background: rgba(0, 0, 0, 0.6);

      z-index: 4000;

      justify-content: center;

      align-items: center;

      backdrop-filter: blur(4px);

    }

    .modal-content {

      background: var(--card-bg);

      border: 1px solid var(--glass-border);

      border-radius: var(--radius);

      padding: 20px;

      width: 90%;

      max-width: 320px;

      box-shadow: 0 10px 40px rgba(0,0,0,0.5);

      backdrop-filter: blur(20px);

    }

    .modal-header {

      display: flex;

      justify-content: space-between;

      align-items: center;

      margin-bottom: 16px;

    }

    .modal-header h4 {

      font-weight: 700;

      color: white;

      font-size: 1.1rem;

    }

    #closeColorModal {

      background: none;

      border: none;

      color: #a0a5c0;

      font-size: 1.8rem;

      cursor: pointer;

      padding: 0;

      width: 30px;

      height: 30px;

      display: flex;

      align-items: center;

      justify-content: center;

      border-radius: 8px;

      transition: background 0.2s;

    }

    #closeColorModal:hover {

      background: rgba(255,255,255,0.1);

    }

    .color-wheel-wrapper {

      display: flex;

      justify-content: center;

      margin-bottom: 16px;

    }

    .hex-input-group input {

      width: 100%;

      padding: 12px;

      background: var(--input-bg);

      border: 1px solid transparent;

      border-radius: 12px;

      color: white;

      font-family: 'Inter', sans-serif;

      text-align: center;

      font-size: 1rem;

      text-transform: uppercase;

    }

    .hex-input-group input:focus {

      outline: none;

      border-color: var(--primary);

      background: rgba(35, 40, 65, 0.8);

    }



    .btn {

      width: 100%;

      padding: 14px;

      background: linear-gradient(135deg, var(--primary), var(--primary-light));

      color: white;

      font-weight: 800;

      font-family: 'Inter', sans-serif;

      border: none;

      border-radius: 16px;

      cursor: pointer;

      display: flex;

      align-items: center;

      justify-content: center;

      gap: 10px;

      transition: all 0.3s ease;

      position: relative;

      overflow: hidden;

      box-shadow: 0 4px 16px rgba(100, 124, 247, 0.3);

    }



    .btn::before {

      content: '';

      position: absolute;

      top: -50%;

      left: -50%;

      width: 200%;

      height: 200%;

      background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);

      transform: translate(-50%, -50%) scale(0);

      transition: transform 0.6s ease;

    }



    .btn:hover:not(:disabled)::before {

      transform: translate(-50%, -50%) scale(1);

    }



    .btn:hover:not(:disabled) {

      transform: translateY(-3px);

      box-shadow: 0 8px 24px rgba(100, 124, 247, 0.5);

    }



    .btn:disabled {

      opacity: 0.65;

      cursor: not-allowed;

      transform: none;

      box-shadow: 0 2px 8px rgba(0,0,0,0.2);

    }



    .btn-loader {

      display: inline-block;

      width: 18px;

      height: 18px;

      border: 2px solid transparent;

      border-top: 2px solid white;

      border-radius: 50%;

      animation: spin 1s linear infinite;

    }



    @keyframes spin {

      to { transform: rotate(360deg); }

    }



    .result-container {

      text-align: center;

      margin-top: 28px;

    }



    #resultImage {

      max-width: 100%;

      border-radius: var(--radius);

      border: 1px solid var(--glass-border);

      display: none;

      margin: 20px auto;

      box-shadow: 

        0 10px 30px rgba(0, 0, 0, 0.45),

        0 0 16px rgba(100, 124, 247, 0.25);

      transition: opacity 0.4s ease;

    }



    #downloadButton {

      display: none;

      margin-top: 20px;

    }



    #toast {

      position: fixed;

      bottom: 28px;

      left: 50%;

      transform: translateX(-50%) translateY(120px);

      background: rgba(19, 22, 39, 0.92);

      color: white;

      padding: 16px 28px;

      border-radius: 14px;

      font-weight: 700;

      font-family: 'Inter', sans-serif;

      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);

      border: 1px solid var(--glass-border);

      z-index: 3000;

      opacity: 0;

      transition: transform 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28), opacity 0.3s ease;

      display: flex;

      align-items: center;

      gap: 10px;

    }



    #toast.show {

      transform: translateX(-50%) translateY(0);

      opacity: 1;

    }



    #toast.success { color: #7bffaa; }

    #toast.error { color: #ff6b6b; }



    .social-sidebar {

      position: fixed;

      top: 0;

      right: -280px;

      width: 260px;

      height: 100vh;

      background: rgba(19, 22, 39, 0.85);

      backdrop-filter: blur(18px);

      -webkit-backdrop-filter: blur(18px);

      border-left: 1px solid var(--glass-border);

      padding: 80px 20px 30px;

      display: flex;

      flex-direction: column;

      gap: 20px;

      z-index: 999;

      transition: right 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);

    }



    .social-sidebar.open {

      right: 0;

    }



    .social-sidebar h3 {

      color: var(--primary-light);

      margin-bottom: 20px;

      font-size: 1.1rem;

      text-align: center;

      font-weight: 700;

    }



    .social-link {

      display: flex;

      align-items: center;

      gap: 14px;

      padding: 12px 20px;

      border-radius: 14px;

      color: var(--text);

      text-decoration: none;

      font-weight: 600;

      transition: all 0.25s ease;

      background: rgba(30, 35, 60, 0.4);

      font-family: 'Inter', sans-serif;

    }



    .social-link:hover {

      background: rgba(100, 124, 247, 0.25);

      transform: translateX(-6px);

      color: var(--primary-light);

      box-shadow: 0 4px 12px rgba(100, 124, 247, 0.2);

    }



    .social-link i {

      font-size: 1.35rem;

      width: 28px;

      text-align: center;

    }



    footer {

      text-align: center;

      padding: 2rem 1rem;

      color: #9aa0b5;

      font-size: 0.9rem;

      margin-top: 3rem;

      border-top: 1px solid var(--glass-border);

      font-family: 'Inter', sans-serif;

      font-weight: 500;

    }



    footer a {

      color: var(--primary-light);

      text-decoration: none;

      font-weight: 600;

    }



    footer a:hover {

      text-decoration: underline;

    }



    @media (max-width: 600px) {

      .form-grid { grid-template-columns: 1fr; }

      .headbar h1 { font-size: 1.15rem; }

      .social-sidebar { width: 240px; }

      .watermark-logo { width: 50px; height: 50px; }

      .card { padding: 1.8rem; }

    }



    /* === RESPONSIVE BREAKPOINTS === */

    @media (max-width: 768px) {

      body { padding-top: 75px; }

      .card { padding: 1.8rem; border-radius: 24px; }

      .form-grid { grid-template-columns: 1fr; }

      .headbar { padding: 0 15px; }

      .headbar h1 { font-size: 1.15rem; }

      .watermark-logo { width: 50px; height: 50px; }

    }



    @media (max-width: 480px) {

      .model-chip { padding: 8px 16px; font-size: 0.85rem; }

      .breadcrumb { font-size: 0.8rem; margin-bottom: 10px; }

      .card { padding: 1.5rem; border-radius: 20px; }

      .watermark-name { font-size: 1.1rem; }

      .btn { padding: 14px; font-size: 1rem; }

    }



  </style>

</head>

<body>

  <div class="headbar">

    <a href="index.html">

      <i class="fas fa-arrow-left" style="font-size: 1.4rem;"></i>

    </a>

    <h1><i class="fab fa-apple"></i> iPhone Quote Generator</h1>

    <button id="sidebarToggle">

      <i class="fas fa-bars toggle-icon" id="toggleIcon"></i>

    </button>

  </div>

  <div class="social-sidebar" id="socialSidebar">

    <h3>Hubungi Admin</h3>

    <a href="https://wa.me/6285945773231" target="_blank" class="social-link">

      <i class="fab fa-whatsapp"></i> WhatsApp

    </a>

    <a href="https://t.me/+628594577323" target="_blank" class="social-link">

      <i class="fab fa-telegram"></i> Telegram

    </a>

  </div>

  <div class="breadcrumb">

    <a href=""></a>

    <span class="separator"></span>

    <span class="active">iPhone Quote Generator</span>

  </div>

  <main>

    <div class="card">

      <div class="watermark-header">

        <img src="gambar.png" alt="ziperr" class="watermark-logo" />

        <div class="watermark-text">

          <span class="watermark-name">ziperr mods</span>

          <span class="watermark-username">ziperrr_intopet</span>

        </div>

      </div>

      <div class="main-input-group">

        <label>Teks Pesan</label>

        <input type="text" id="mainTextInput" placeholder="Ketik pesan Anda..." autocomplete="off" />

      </div>

      <div class="model-selector">

        <div class="model-chip active" data-model="A">

          <i class="fas fa-microchip"></i> Flagship

        </div>

        <div class="model-chip" data-model="B">

          <i class="fas fa-robot"></i> Underrated

        </div>

      </div>

      <button id="toggleAdvanced" class="toggle-advanced-btn">

        <i class="fas fa-sliders-h"></i>

        <span>Atur Detail</span>

      </button>

      <div class="advanced-fields-section" id="advancedFieldsSection">

        <div id="fieldsA" class="dynamic-fields active">

          <div class="form-grid">

            <div class="form-group">

              <label><i class="fas fa-clock"></i> Waktu Chat</label>

              <input type="time" id="modelA_chatTimeInput" value="08:08" />

            </div>

            <div class="form-group">

              <label><i class="fas fa-mobile-alt"></i> Waktu Status Bar</label>

              <input type="time" id="modelA_statusBarTimeInput" value="08:08" />

            </div>

            <div class="form-group">

              <label><i class="fas fa-signal"></i> Operator</label>

              <div class="chip-selector" id="modelA_signalNameInput">

                <div class="chip active" data-value="XL">XL</div>

                <div class="chip" data-value="Axis">Axis</div>

                <div class="chip" data-value="Indosat Ooredoo">Indosat Ooredoo</div>

                <div class="chip" data-value="Tri">Tri</div>

                <div class="chip" data-value="Smartfren">Smartfren</div>

                <div class="chip" data-value="Telkomsel">Telkomsel</div>

              </div>

            </div>

            <div class="form-group">

              <label><i class="fas fa-font"></i> Jenis Font</label>

              <div class="chip-selector" id="modelA_fontNameInput">

                <div class="chip active" data-value="Arial">Arial</div>

                <div class="chip" data-value="Roboto">Roboto</div>

                <div class="chip" data-value="Times New Roman">Times New Roman</div>

              </div>

            </div>

            <div class="form-group">

              <label><i class="fas fa-paint-brush"></i> Warna Bubble</label>

              <div class="color-input-group">

                <div class="color-preview" id="bubblePreview" style="background-color: #272a2f;"></div>

                <input type="text" class="color-hex-input" id="modelA_bubbleColorInput" value="#272A2F" maxlength="7" />

              </div>

            </div>

            <div class="form-group">

              <label><i class="fas fa-layer-group"></i> Warna Menu</label>

              <div class="color-input-group">

                <div class="color-preview" id="menuPreview" style="background-color: #272a2f;"></div>

                <input type="text" class="color-hex-input" id="modelA_menuColorInput" value="#272A2F" maxlength="7" />

              </div>

            </div>

            <div class="form-group">

              <label><i class="fas fa-text-height"></i> Warna Teks</label>

              <div class="color-input-group">

                <div class="color-preview" id="textPreview" style="background-color: #FFFFFF;"></div>

                <input type="text" class="color-hex-input" id="modelA_textColorInput" value="#FFFFFF" maxlength="7" />

              </div>

            </div>

          </div>

        </div>

        <div id="fieldsB" class="dynamic-fields">

          <div class="form-grid">

            <div class="form-group">

              <label><i class="fas fa-hourglass-half"></i> Waktu</label>

              <input type="time" id="modelB_time" value="14:30" />

            </div>

            <div class="form-group">

              <label><i class="fas fa-network-wired"></i> Operator</label>

              <div class="chip-selector" id="modelB_carrier">

                <div class="chip active" data-value="Telkomsel">Telkomsel</div>

                <div class="chip" data-value="XL">XL</div>

                <div class="chip" data-value="Indosat">Indosat</div>

                <div class="chip" data-value="Tri">Tri</div>

                <div class="chip" data-value="Smartfren">Smartfren</div>

              </div>

            </div>

            <div class="form-group">

              <label><i class="fas fa-battery-three-quarters"></i> Baterai (%)</label>

              <input type="number" id="modelB_battery" min="0" max="100" value="92" />

            </div>

            <div class="form-group">

              <label><i class="fas fa-wifi"></i> Kekuatan Sinyal (0%34)</label>

              <input type="number" id="modelB_signal" min="0" max="4" value="4" />

            </div>

          </div>

        </div>

      </div>

      <button type="button" class="btn" id="generateBtn">

        <i class="fas fa-wand-magic-sparkles"></i>

        <span>Generate!</span>

      </button>

      <div class="result-container">

        <img id="resultImage" alt="Hasil iPhone Quote" />

        <button id="downloadButton" class="btn">

          <i class="fas fa-download"></i>

          <span>Download</span>

        </button>

      </div>

    </div>

  </main>

  <div id="colorWheelModal" class="modal">

    <div class="modal-content">

      <div class="modal-header">

        <h4>Pilih Warna</h4>

        <button id="closeColorModal">&times;</button>

      </div>

      <div class="color-wheel-wrapper">

        <canvas id="colorWheel" width="200" height="200"></canvas>

      </div>

      <div class="hex-input-group">

        <input type="text" id="modalHexInput" maxlength="7" placeholder="#FFFFFF" />

      </div>

    </div>

  </div>

  <div id="toast"><i class="fas fa-check-circle"></i> <span>Notifikasi</span></div>

  <footer>

    <p>

      <i class="fab fa-whatsapp"></i>

      <a href="https://wa.me/6285945773231" target="_blank">SALURAN WHATSAPP</a>

    </p>

    <hr style="border: none; border-top: 1px solid var(--glass-border); margin: 1rem auto; width: 50%;" />

    <p>&copy; 2025 <a href="https://berrymodapk.edgeone.app/" target="_blank">BERRY V4</a>, all rights reserved</p>

  </footer>

<script>

    let chatTimeEdited = false;

    let statusBarTimeEdited = false;

    let currentImageUrl = '';

    let currentModel = 'A';

    let advancedOpen = false;



    function updateTimeInputs() {

      const now = new Date();

      const h = String(now.getHours()).padStart(2, '0');

      const m = String(now.getMinutes()).padStart(2, '0');

      const time = `${h}:${m}`;

      if (!chatTimeEdited) document.getElementById('modelA_chatTimeInput').value = time;

      if (!statusBarTimeEdited) document.getElementById('modelA_statusBarTimeInput').value = time;

    }



    function showToast(msg, ok = true) {

      const t = document.getElementById('toast');

      const i = t.querySelector('i');

      const s = t.querySelector('span');

      s.textContent = msg;

      t.className = 'show ' + (ok ? 'success' : 'error');

      i.className = ok ? 'fas fa-check-circle' : 'fas fa-exclamation-circle';

      setTimeout(() => t.classList.remove('show'), 3500);

    }



    const tb = document.getElementById('sidebarToggle');

    const sb = document.getElementById('socialSidebar');

    const ti = document.getElementById('toggleIcon');

    tb.addEventListener('click', () => {

      sb.classList.toggle('open');

      ti.classList.toggle('fa-bars');

      ti.classList.toggle('fa-xmark');

      ti.classList.toggle('rotated');

    });

    document.addEventListener('click', e => {

      if (sb.classList.contains('open') && !sb.contains(e.target) && !tb.contains(e.target)) {

        sb.classList.remove('open');

        ti.className = 'fas fa-bars toggle-icon';

      }

    });



    const modelChips = document.querySelectorAll('.model-chip');

    const fieldsA = document.getElementById('fieldsA');

    const fieldsB = document.getElementById('fieldsB');

    const advancedSection = document.getElementById('advancedFieldsSection');

    const toggleBtn = document.getElementById('toggleAdvanced');



    modelChips.forEach(chip => {

      chip.addEventListener('click', () => {

        modelChips.forEach(c => c.classList.remove('active'));

        chip.classList.add('active');

        currentModel = chip.dataset.model;



        if (currentModel === 'A') {

          fieldsA.classList.add('active');

          fieldsB.classList.remove('active');

          updateTimeInputs();

        } else {

          fieldsA.classList.remove('active');

          fieldsB.classList.add('active');

        }



        if (advancedOpen) advancedSection.classList.add('active');

      });

    });



    toggleBtn.addEventListener('click', () => {

      advancedOpen = !advancedOpen;

      advancedSection.classList.toggle('active', advancedOpen);

      toggleBtn.innerHTML = advancedOpen

        ? '<i class="fas fa-times"></i> <span>Sembunyikan Detail</span>'

        : '<i class="fas fa-sliders-h"></i> <span>Atur Detail</span>';

    });



    function initChipSelectors() {

      document.querySelectorAll('.chip-selector').forEach(container => {

        const chips = container.querySelectorAll('.chip');

        chips.forEach(chip => {

          chip.addEventListener('click', () => {

            chips.forEach(c => c.classList.remove('active'));

            chip.classList.add('active');

          });

        });

      });

    }



    let activeColorInput = null;

    let ctx = null;



    function openColorModal(inputId, previewId) {

      activeColorInput = { inputId, previewId };

      const color = document.getElementById(inputId).value || '#FFFFFF';

      document.getElementById('modalHexInput').value = color;

      drawColorWheel();

      document.getElementById('colorWheelModal').style.display = 'flex';

    }



    function closeColorModal() {

      document.getElementById('colorWheelModal').style.display = 'none';

      activeColorInput = null;

    }



    function rgbToHex(r, g, b) {

      return '#' + [r, g, b].map(x => x.toString(16).padStart(2, '0')).join('').toUpperCase();

    }



    function drawColorWheel() {

      const canvas = document.getElementById('colorWheel');

      if (!ctx) ctx = canvas.getContext('2d');

      const centerX = canvas.width / 2;

      const centerY = canvas.height / 2;

      const radius = Math.min(centerX, centerY) - 10;



      ctx.clearRect(0, 0, canvas.width, canvas.height);



      for (let angle = 0; angle < 360; angle++) {

        const startAngle = (angle - 1) * Math.PI / 180;

        const endAngle = (angle + 1) * Math.PI / 180;



        const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);

        gradient.addColorStop(0, 'white');

        gradient.addColorStop(1, `hsl(${angle}, 100%, 50%)`);



        ctx.beginPath();

        ctx.moveTo(centerX, centerY);

        ctx.arc(centerX, centerY, radius, startAngle, endAngle);

        ctx.closePath();

        ctx.fillStyle = gradient;

        ctx.fill();

      }



      const overlay = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);

      overlay.addColorStop(0, 'rgba(255,255,255,0)');

      overlay.addColorStop(1, 'rgba(0,0,0,1)');

      ctx.fillStyle = overlay;

      ctx.beginPath();

      ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);

      ctx.fill();

    }



    document.getElementById('colorWheel').addEventListener('click', (e) => {

      if (!activeColorInput || !ctx) return;

      const canvas = document.getElementById('colorWheel');

      const rect = canvas.getBoundingClientRect();

      const x = e.clientX - rect.left;

      const y = e.clientY - rect.top;

      const pixel = ctx.getImageData(x, y, 1, 1).data;

      const hex = rgbToHex(pixel[0], pixel[1], pixel[2]);

      document.getElementById('modalHexInput').value = hex;

      updateActiveColor(hex);

    });



    document.getElementById('modalHexInput').addEventListener('input', (e) => {

      let val = e.target.value.trim().toUpperCase();

      if (val === '') return;

      if (!val.startsWith('#')) val = '#' + val;

      if (/^#[0-9A-F]{6}$/.test(val)) updateActiveColor(val);

    });



    function updateActiveColor(hex) {

      if (!activeColorInput) return;

      document.getElementById(activeColorInput.inputId).value = hex;

      document.getElementById(activeColorInput.previewId).style.backgroundColor = hex;

    }



    document.getElementById('closeColorModal').addEventListener('click', closeColorModal);

    window.addEventListener('click', (e) => {

      if (e.target === document.getElementById('colorWheelModal')) closeColorModal();

    });



    function setupColorPickers() {

      document.getElementById('bubblePreview').addEventListener('click', () => openColorModal('modelA_bubbleColorInput', 'bubblePreview'));

      document.getElementById('menuPreview').addEventListener('click', () => openColorModal('modelA_menuColorInput', 'menuPreview'));

      document.getElementById('textPreview').addEventListener('click', () => openColorModal('modelA_textColorInput', 'textPreview'));

    }



    document.getElementById('generateBtn').addEventListener('click', () => {

      const mainText = document.getElementById('mainTextInput').value.trim();

      if (!mainText) return showToast('Masukkan pesan!', false);



      const btn = document.getElementById('generateBtn');

      const img = document.getElementById('resultImage');

      const dl = document.getElementById('downloadButton');



      let url = '';



      if (currentModel === 'A') {

        const chatTime = document.getElementById('modelA_chatTimeInput').value;

        const statusBarTime = document.getElementById('modelA_statusBarTimeInput').value;

        const signalName = document.querySelector('#modelA_signalNameInput .chip.active').dataset.value;

        const fontName = document.querySelector('#modelA_fontNameInput .chip.active').dataset.value;

        const bubbleColor = document.getElementById('modelA_bubbleColorInput').value;

        const menuColor = document.getElementById('modelA_menuColorInput').value;

        const textColor = document.getElementById('modelA_textColorInput').value;



        url = `https://anabot.my.id/api/maker/iqc?text=${encodeURIComponent(mainText)}&chatTime=${encodeURIComponent(chatTime)}&statusBarTime=${encodeURIComponent(statusBarTime)}&signalName=${encodeURIComponent(signalName)}&bubbleColor=${encodeURIComponent(bubbleColor)}&menuColor=${encodeURIComponent(menuColor)}&textColor=${encodeURIComponent(textColor)}&fontName=${encodeURIComponent(fontName)}&apikey=freeApikey`;

      } else {

        const time = document.getElementById('modelB_time').value;

        const carrier = document.querySelector('#modelB_carrier .chip.active').dataset.value;

        const battery = document.getElementById('modelB_battery').value;

        const signal = document.getElementById('modelB_signal').value;

        const emoji = "apple";



        url = `https://brat.siputzx.my.id/iphone-quoted?time=${encodeURIComponent(time)}&messageText=${encodeURIComponent(mainText)}&carrierName=${encodeURIComponent(carrier)}&batteryPercentage=${battery}&signalStrength=${signal}&emojiStyle=${encodeURIComponent(emoji)}`;

      }



      currentImageUrl = url;

      btn.disabled = true;

      btn.innerHTML = '<span class="btn-loader"></span> <span>Sedang Menghasilkan...</span>';

      img.style.display = 'none';

      dl.style.display = 'none';



      img.onload = () => {

        btn.disabled = false;

        btn.innerHTML = '<i class="fas fa-wand-magic-sparkles"></i> <span>Generate Gambar</span>';

        img.style.display = 'block';

        dl.style.display = 'flex';

        showToast('Gambar berhasil dibuat!');

      };



      img.onerror = () => {

        btn.disabled = false;

        btn.innerHTML = '<i class="fas fa-wand-magic-sparkles"></i> <span>Generate Gambar</span>';

        showToast('Gagal memuat gambar. Coba lagi!', false);

      };



      img.src = url;

    });



    /* === FIXED DOWNLOAD SYSTEM (NO TAB, NO REDIRECT, DIRECT TO DOWNLOADS) === */



    document.getElementById('downloadButton').addEventListener('click', async (e) => {

  e.preventDefault();

  e.stopPropagation();



  if (!currentImageUrl) {

    showToast('Tidak ada gambar untuk diunduh.', false);

    return;

  }



  const filename = `iphone-quote-${Date.now()}.png`;



  showToast('Sedang mengunduh...');



  try {

    const resp = await fetch(currentImageUrl, { cache: 'no-store' });

    const blob = await resp.blob();



    const blobUrl = URL.createObjectURL(blob);

    const a = document.createElement('a');

    a.href = blobUrl;

    a.download = filename;



    document.body.appendChild(a);

    a.click();

    document.body.removeChild(a);



    URL.revokeObjectURL(blobUrl);

    showToast('Gambar diunduh!');

  } 

  catch (err) {

    // fallback 100% sama seperti sistem BRAT milik Paduka

    const a = document.createElement('a');

    a.href = currentImageUrl;

    a.download = filename;

    a.target = '_self';

    document.body.appendChild(a);

    a.click();

    document.body.removeChild(a);

  }

});





    document.addEventListener('DOMContentLoaded', () => {

      updateTimeInputs();

      setInterval(updateTimeInputs, 1000);

      initChipSelectors();

      setupColorPickers();

      drawColorWheel();

    });

</script>

</body>

</html>